<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Remez Flipbook – Safe Build</title>
<style>
  /* Page background + base font */
  html,body { margin:0; padding:0; background:#ece9e4; font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial; }
  /* Container centered with max width */
  .wrap { max-width: 640px; margin: 24px auto; padding: 12px; }
  /* Book area: visible even without JS */
  .book {
    width: 100%;
    aspect-ratio: 4 / 5;          /* <- guarantees height */
    position: relative;
    border-radius: 12px;
    box-shadow: 0 18px 36px rgba(0,0,0,.25);
    background: #bca89a;          /* fallback color if gradients fail */
    overflow: hidden;
  }
  /* Left (back) board */
  .page.left {
    position:absolute; inset:0; width:50%;
    border-radius:12px 0 0 12px; overflow:hidden;
    background:
      linear-gradient(180deg, rgba(0,0,0,.15), transparent 18%, transparent 82%, rgba(0,0,0,.25)),
      linear-gradient(135deg, #4a3629, #3a2a20);
  }
  .spine {
    position:absolute; left:0; top:0; bottom:0; width:64px;
    background:
      repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 2px, transparent 2px 6px),
      linear-gradient(180deg,#3c2c22,#2f221a);
    box-shadow: inset -3px 0 6px rgba(0,0,0,.4);
    border-right: 1px solid rgba(0,0,0,.35);
  }
  /* Right (front) board */
  .page.right {
    position:absolute; inset:0; left:50%; width:50%;
    border-radius:0 12px 12px 0; overflow:hidden;
    background:
      linear-gradient(180deg, rgba(255,255,255,.06), transparent 18%, transparent 82%, rgba(0,0,0,.25)),
      linear-gradient(135deg, #4b382c, #3b2b20);
  }
  .front-inner { position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px; text-align:center; padding: 0 24px; }
  .front-inner img { width:min(46%, 240px); height:auto; filter: drop-shadow(0 2px 3px rgba(0,0,0,.35)); }
  .front-inner .sub { font-size:18px; color:#f2f2f2; opacity:.9; }

  /* Inner pages */
  .sheet { position:absolute; inset:0; width:50%; overflow:hidden; border-radius:12px 0 0 12px; background:#fff; box-shadow:0 16px 26px rgba(0,0,0,.22); transform-origin:left center; backface-visibility:hidden; }
  .sheet.right { left:50%; border-radius:0 12px 12px 0; transform-origin:right center; }
  .paper { position:absolute; inset:0; background: linear-gradient(90deg, #ffffff, #f5f2ee); }
  .sheet img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }

  /* Flip states (CSS only) */
  .flip { transition: transform 700ms cubic-bezier(.25,.8,.25,1); }
  .is-flipped { transform: rotateY(-180deg); }
  .sheet.right.is-flipped { transform: rotateY(180deg); }

  /* Click anywhere on the book */
  .hit { position:absolute; inset:0; background:transparent; cursor:pointer; }
</style>
</head>
<body>
  <div class="wrap">
    <!-- BOOK renders even if JS fails -->
    <div class="book" id="book">
      <!-- back/left cover -->
      <div class="page left">
        <div class="spine"></div>
      </div>
      <!-- front/right cover -->
      <div class="page right">
        <div class="front-inner">
          <img alt="Remez logo" id="logo">
          <div class="sub">Remez’s library</div>
        </div>
      </div>

      <!-- inner pages get injected here -->
      <div id="stack"></div>

      <!-- click target -->
      <div class="hit" aria-hidden="true" title="Click to open / turn page"></div>
    </div>
  </div>

<script>
/* Minimal, safe script: no external deps, works on GitHub Pages */
(function(){
  // ---- CONFIG ----
  var LOGO_URL = 'https://assets.zyrosite.com/Yg24bO2OLrcaNDVj/chatgpt-image-aug-28-2025-07_05_21-pm-1-Yan0bOo35pC7BEl8.png';
  var IMAGES = [
    'https://picsum.photos/960/1200?1',
    'https://picsum.photos/960/1200?2',
    'https://picsum.photos/960/1200?3',
    'https://picsum.photos/960/1200?4'
  ]; // Replace with your portrait pages later

  // mount logo
  var logo = document.getElementById('logo'); if (logo) logo.src = LOGO_URL;

  // build pages (pairs)
  var stack = document.getElementById('stack');
  var totalSheets = Math.max(1, Math.ceil(IMAGES.length/2));
  var padded = IMAGES.concat(Array(Math.max(0, totalSheets*2 - IMAGES.length)).fill(null));

  for (var i=0;i<totalSheets*2;i++){
    var right = i%2===1;
    var sheet = document.createElement('div');
    sheet.className = 'sheet flip' + (right ? ' right' : '');
    sheet.style.zIndex = String(1000 - (i+2));
    var paper = document.createElement('div'); paper.className='paper';
    var img = document.createElement('img');
    if (padded[i]) img.src = padded[i]; else img.style.opacity='0';
    sheet.appendChild(paper); sheet.appendChild(img);
    stack.appendChild(sheet);
  }

  // flip logic
  var pages = Array.prototype.slice.call(document.querySelectorAll('.page, .sheet'));
  var idx = 0, opened = false, total = pages.length;
  function apply(){ for (var i=0;i<pages.length;i++){ pages[i].classList.toggle('is-flipped', i < idx); } }
  function clamp(v){ return Math.max(0, Math.min(total-1, v)); }
  function next(){ idx = clamp(idx+1); apply(); }
  function prev(){ idx = clamp(idx-1); apply(); }
  function openBook(){ opened = true; next(); }

  var hit = document.querySelector('.hit');
  hit.addEventListener('click', function(e){
    var r = hit.getBoundingClientRect();
    if (!opened) return openBook();
    (e.clientX - r.left > r.width/2) ? next() : prev();
  });

  document.addEventListener('keydown', function(e){
    if (!opened && (e.key === 'Enter' || e.key === ' ')) return openBook();
    if (e.key === 'ArrowRight') next();
    if (e.key === 'ArrowLeft') prev();
  });

  // Start closed (covers visible)
  apply();
})();
</script>
</body>
</html>

